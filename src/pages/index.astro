---
import SkyLayout from "../layouts/SkyLayout.astro";
---
<SkyLayout title="Map" bg="sky">
  <div class="map">
    <div class="field">
      <a class="pin p-now" href="/now" aria-label="Now"></a>
      <a class="pin p-walk" href="/walk" aria-label="Walk"></a>
      <a class="pin p-courtyard" href="/courtyard" aria-label="Courtyard"></a>
    </div>

    <button id="glyph" class="glyph" aria-label="Go to Now">âœ¦</button>
  </div>

  <style>
    .map{
      width:min(1100px,94vw);
      height:min(70vh,720px);
      margin:0 auto;
      border-radius:18px;
      overflow:hidden;
      position:relative;
      background:
        radial-gradient(900px 520px at 50% 35%, rgba(255,255,255,.08), rgba(0,0,0,.92));
      box-shadow: inset 0 0 160px rgba(0,0,0,.55), 0 28px 90px rgba(0,0,0,.35);
      opacity:0;
      transform: translateY(8px);
      animation: in 900ms ease forwards;
    }
    @keyframes in{ to{opacity:1; transform:translateY(0);} }

    .field{ position:absolute; inset:0; }

    .pin{
      position:absolute;
      width:18px;height:18px;border-radius:999px;
      background: radial-gradient(circle, rgba(255,255,255,.9), rgba(255,205,140,.25) 40%, rgba(255,205,140,0) 70%);
      border:1px solid rgba(255,255,255,.18);
      box-shadow: 0 0 22px rgba(255,205,140,.18);
    }
    .p-now{ left:50%; top:40%; transform:translate(-50%,-50%); }
    .p-walk{ left:26%; top:62%; transform:translate(-50%,-50%); }
    .p-courtyard{ left:72%; top:58%; transform:translate(-50%,-50%); }

    .glyph{
      position:absolute;
      left:50%; bottom:22px; transform:translateX(-50%);
      border-radius:999px;
      padding:10px 14px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.22);
      color: rgba(255,255,255,.92);
      cursor:pointer;
      opacity:.85;
    }
    .glyph:hover{ opacity:1; }
  </style>

  <script type="module">
    const go = () => (location.href = "/now");
    document.getElementById("glyph")?.addEventListener("click", go);
    setTimeout(go, 4200);
  </script>
</SkyLayout>
