---
import fs from "fs";
import path from "path";

const REG_PATH = path.join(process.cwd(), "starmap/registry/index.json");

const registry = JSON.parse(fs.readFileSync(REG_PATH, "utf-8"));

// Only codex entries, in the order they appear in the JSON
const entries = registry.filter((e) => e.type === "codex");
---
<html>
  <body>
    <h1>Codex</h1>
    <ul>
      {entries.map((e) => (
        <li>
          <a href={`/codex/${e.slug}`}>{e.title}</a>
        </li>
      ))}
    </ul>
  </body>
</html>
