---
import SkyLayout from "../../../layouts/SkyLayout.astro";
---

<SkyLayout title="Paul · Gate" bg="sky">
  <style>
    .wrap{max-width:680px;margin:0 auto;padding:28px 18px;}
    .card{
      border:1px solid rgba(255,255,255,.12);
      border-radius:16px;
      padding:16px;
      background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.03));
      box-shadow: 0 18px 48px rgba(0,0,0,.35);
      backdrop-filter: blur(10px);
    }
    .k{font-size:11px;letter-spacing:.16em;text-transform:uppercase;opacity:.7}
    h1{margin:8px 0 4px;font-size:28px}
    .sub{margin:0 0 14px;color:rgba(255,255,255,.7);font-size:13px;line-height:1.45}
    label{display:block;font-size:12px;letter-spacing:.14em;text-transform:uppercase;opacity:.75;margin:10px 0 6px}
    input{
      width:100%;
      padding:12px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(0,0,0,.25);
      color:rgba(255,255,255,.9);
    }
    button{
      margin-top:14px;
      padding:10px 12px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.06);
      color:rgba(255,255,255,.9);
      cursor:pointer;
    }
    .err{margin-top:10px;color:rgba(255,205,140,.9);font-size:13px;opacity:0;transition:opacity .25s ease}
    .hint{margin-top:12px;opacity:.55;font-size:12px}
    nav{
      margin-top: 18px;
      text-align:center;
      opacity:.65;
      font-size:12px;
      letter-spacing:.08em;
      text-transform:uppercase;
    }
    nav .dot{ margin:0 .75rem; opacity:.5; }
    nav a{ color:rgba(255,255,255,.82); text-decoration:none; }
    nav a:hover{ color:rgba(255,255,255,.95); }
  </style>

  <div class="wrap">
    <div class="card">
      <div class="k">TRACK · PAUL</div>
      <h1>A Coin</h1>
      <p class="sub">Enter the key once to open this track on this device.</p>

      <form id="gate-form">
        <label for="gate-key">Passkey</label>
        <input id="gate-key" type="password" autocomplete="current-password" required />
        <button type="submit">Enter</button>
        <div id="gate-error" class="err"></div>
      </form>

      <div class="hint">Temporary gate (local). Clears if you clear site storage.</div>

      <nav>
        <a href="/courtyard">courtyard</a>
        <span class="dot">•</span>
        <a href="/walk">walk</a>
        <span class="dot">•</span>
        <a href="/edge">edge</a>
      </nav>
    </div>
  </div>

  <script type="module">
    import { gate } from "/js/_client-gate.js";
    const PAUL_KEY = "coin";

    gate({
      who: "paul",
      storageKey: "starmap_unlocked_paul",
      expectedKey: PAUL_KEY,
      nextDefault: "/track/paul/arrival",
      formId: "gate-form",
      inputId: "gate-key",
      errorId: "gate-error"
    });
  </script>
</SkyLayout>
